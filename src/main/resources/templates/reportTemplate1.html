<!DOCTYPE html>
<html>
<head>
    <title>Medical Health Report</title>
    <style>
        #main-header {
    background-color: lightgreen;
    border-bottom: 3px solid black;
    padding: 10px;
    text-align: center;
}
 
.table-container {
    margin-top: 20px;
    padding: 10px;
}
 
table {
    border-collapse: collapse;
    width: 100%;
}
 
td, th {
    border: 1px solid black;
    padding: 8px;
    text-align: left;
    width: 25%; /* Set the width of cells */
}
 
th {
    border: 1px solid black;
    padding: 8px;
    text-align: center;
    width: 25%; /* Set the width of header cells */
}
 
.test-table-class th {
    background-color: rgb(182, 239, 182);
}
 
.test-table-class {
    margin-top: 20px;
    padding-top: 20px;
    
}
 
.end-of-report-container {
    background-color: lightgreen;
    border: 3px solid black;
    padding: 10px;
    margin-top: 20px;
    text-align: center;
}
 
.end-of-report {
    height: 10px;
}
    </style>
</head>
<body>
    <div id="main-header">
        <h1>Medical Health Report</h1>
    </div>
    <div class="table-container" th:each="user : ${users}">
        <h2>Pathology Lab Name</h2>
        
    </div>
    <div class="table-container">
        <h2>Patient Information</h2>
        <table id="patient-info-table">
           <tbody th:each="user : ${users}">
		<tr>
			<td> name</td>
			<td th:text="${user.patient_info.name}"></td>
		</tr>
		<tr>
			<td >age sex</td>
			<td th:text="${user.patient_info.age_sex}"></td>
		</tr>		
		<tr>
			<td>patient id</td>
			<td th:text="${user.patient_info.patient_id}"></td>
		</tr>
		<tr>
			<td >dob</td>
			<td th:text="${user.patient_info.dob}"></td>
		</tr>		
		<tr>
			<td>medications</td>
			<td th:text="${user.patient_info.medications}"></td>
		</tr>		
		<tr>
			<td>ordering dr</td>
			<td th:text="${user.patient_info.ordering_dr}"></td>
		</tr>			
	</tbody>
        </table>
    </div>
    <div class="table-container" >
        <h2>Test Results</h2>
        <div id="test-results-container" >
		   <table class="test-table-class" th:each="testType : ${users.test_types}" >	  
            
                
        
            <th >Test Type</th>
            <th colspan="3" th:text="${testType.test_type}"></th>    
        

        
            <tr>
			<th> test_name</th>
			<th> observed_value</th>
			<th> unit</th>
			<th> reference_range </th>
			
		</tr>
		
		<tr th:each="test : ${testType.tests}">
			<td th:text="${test.test_name}"></td>
			<td th:text="${test.observed_value}"></td>
			<td th:text="${test.unit}"></td>
			<td th:text="${test.reference_range}"></td>
		</tr>   
      </table>
        </div>
    </div>
    <div class="end-of-report-container">
        <div class="end-of-report">***** End of Report *****</div>
    </div>
</body>
</html>